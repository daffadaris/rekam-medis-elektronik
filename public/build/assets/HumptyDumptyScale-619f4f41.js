import{r as c,bE as x,o as u,b as m,a as e,d as o,w as v,f as p,g as b,e as h}from"./app-bf8fb3e4.js";import{_ as g}from"./MainButtonSmall-62f6226f.js";import{_ as f}from"./TextInput-181d0a07.js";import{_ as S}from"./InputError-892d609d.js";import{_ as V}from"./InputLabel-9cc85df5.js";const k=["onSubmit"],w={class:"my-2 w-full"},T={class:"flex"},j={class:"w-full md:w-12/12"},O={class:"flex items-center"},q=e("span",{class:"text-sm w-1/6"},"skor",-1),C={class:"flex justify-end"},D={class:"mt-2 mr-3"},E={key:0,class:"text-sm text-original-teal-300"},N={key:1,class:"text-sm text-thirdouter-red-300"},R={__name:"HumptyDumptyScale",props:{subject_reference:{type:Object,required:!1},practitioner_reference:{type:Object,required:!1},encounter_reference:{type:Object,required:!0}},setup(_,{expose:y}){const a=_;y({submit:d});const s=c({text:"",interpretation:""}),i=c(!1),l=c(!1);function d(){const n=new Date().toISOString().replace("Z","+00:00").replace(/\.\d{3}/,""),t={resourceType:"Observation",status:"final",category:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/observation-category",code:"exam",display:"Exam"}]}],code:{coding:[{system:"http://terminology.kemkes.go.id/CodeSystem/clinical-term",code:"OC000035",display:"Humpty Dumpty Scale"}]},subject:a.subject_reference,performer:[a.practitioner_reference],encounter:a.encounter_reference,effectiveDateTime:n,issued:n,bodySite:{coding:[{system:"http://snomed.info/sct",code:"368209003",display:"Right arm"}]},valueQuantity:{value:parseInt(s.value.text),unit:"{score}",system:"http://unitsofmeasure.org",code:"{score}"},interpretation:[{text:s.value.interpretation}]};x.post(route("integration.store",{res_type:t.resourceType}),t).then(r=>{i.value=!0,setTimeout(()=>{i.value=!1},3e3)}).catch(r=>{console.error("Error creating user:",r),l.value=!0,setTimeout(()=>{l.value=!1},3e3)})}return(n,t)=>(u(),m("div",null,[e("form",{onSubmit:b(d,["prevent"])},[e("div",w,[e("div",T,[e("div",j,[o(V,{for:"text",value:"Humpty Dumpty Scale"}),e("div",O,[o(f,{modelValue:s.value.interpretation,"onUpdate:modelValue":t[0]||(t[0]=r=>s.value.interpretation=r),id:"text",type:"text",class:"text-sm mt-1 mr-3 block w-4/6",placeholder:"Interpretasi",required:""},null,8,["modelValue"]),o(f,{modelValue:s.value.text,"onUpdate:modelValue":t[1]||(t[1]=r=>s.value.text=r),id:"text",type:"number",class:"text-sm mt-1 mr-3 block w-1/6",placeholder:"Total Skor",required:""},null,8,["modelValue"]),q]),o(S,{class:"mt-1"})])])]),e("div",C,[e("div",D,[o(g,{type:"submit",class:"teal-button text-original-white-0"},{default:v(()=>[h("Submit")]),_:1})])]),i.value?(u(),m("p",E,"Sukses!")):p("",!0),l.value?(u(),m("p",N,"Gagal!")):p("",!0)],40,k)]))}};export{R as default};
