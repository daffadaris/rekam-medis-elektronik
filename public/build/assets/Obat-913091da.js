import{r as b,aD as C,o as i,b as c,a as o,F as M,aT as O,d as a,w as _,g as U,t as q,u,c as B,f as L,e as h}from"./app-bf8fb3e4.js";import{s as m}from"./default-669794a9.js";import{D as R}from"./DeleteButton-0b32c6de.js";import{_ as F}from"./MainButtonSmall-62f6226f.js";import{_ as $}from"./SecondaryButtonSmall-e3595e2c.js";import{_ as p}from"./InputError-892d609d.js";import{_ as f}from"./InputLabel-9cc85df5.js";import"./_plugin-vue_export-helper-c27b6911.js";const N=["onSubmit"],E={key:0,class:"font-semibold text-secondhand-orange-300 mt-2"},z={key:1,class:"font-semibold text-secondhand-orange-300 mt-2"},Q={class:"flex"},A={class:"w-full md:w-7/12 mr-2"},G={class:"flex"},H={class:"w-full md:w-5/12"},I={class:"flex"},J={class:"flex mt-3"},K={class:"w-full md:w-6/12 mr-2"},W={class:"flex"},X={class:"w-full md:w-6/12"},Y={class:"flex"},Z={class:"flex justify-between"},ee={class:"mt-2 mr-3"},de={__name:"Obat",props:{practitioner_reference:{type:Object,required:!1},subject_reference:{type:Object,required:!1},encounter_reference:{type:Object,required:!0}},setup(te){const s=b([{code:[null],status:[null],form:[null],medType:[null]}]),v=()=>{let e={code:[null],status:[null],form:[null],medType:[null]};s.value.push(e)},w=e=>{s.value.splice(e,1)},x=()=>{s.value.forEach(e=>{e.status=e.status?(({definition:n,...t})=>t)(e.status):e.status,e.form=e.form?(({definition:n,...t})=>t)(e.form):e.form,e.medType=e.medType?(({definition:n,...t})=>t)(e.medType):e.medType;const r={resourceType:"Medication",code:{coding:[{system:"http://sys-ids.kemkes.go.id/kfa",code:e.code.kfa_code,display:e.code.name}]},status:e.status.code,form:{coding:[e.form]},extension:[{url:"https://fhir.kemkes.go.id/r4/StructureDefinition/MedicationType",valueCodeableConcept:{coding:[e.medType]}}]};console.log(r)})},k=async e=>{const{data:r}=await axios.get(route("terminologi.medication"),{params:{page:1,size:10,product_type:"farmasi",keyword:e}});return r.items.data},g=b(null),T=async()=>{const{data:e}=await axios.get(route("terminologi.get"),{params:{resourceType:"Medication",attribute:"status"}});g.value=e},V=async e=>{const{data:r}=await axios.get(route("terminologi.get"),{params:{resourceType:"Medication",attribute:"form"}}),n=r;return(D=>{const j=D.toLowerCase();return n.filter(S=>S.display.toLowerCase().includes(j))})(e)},y=b(null),P=async()=>{const{data:e}=await axios.get(route("terminologi.get"),{params:{resourceType:"Medication",attribute:"medicationType"}});y.value=e},d={container:"relative mx-auto w-full flex items-center justify-end box-border cursor-pointer border-2 border-neutral-grey-0 ring-0 shadow-sm rounded-xl bg-white text-sm leading-snug outline-none",search:"w-full absolute inset-0 outline-none border-0 ring-0 focus:ring-original-teal-300 focus:ring-2 appearance-none box-border text-sm font-sans bg-white rounded-xl pl-3.5 rtl:pl-0 rtl:pr-3.5",placeholder:"flex items-center h-full absolute left-0 top-0 pointer-events-none bg-transparent leading-snug pl-3.5 text-gray-500 rtl:left-auto rtl:right-0 rtl:pl-0 rtl:pr-3.5",option:"flex items-center justify-start box-border text-left cursor-pointer text-sm leading-snug py-1.5 px-3",optionPointed:"text-white bg-original-teal-300",optionSelected:"text-white bg-original-teal-300",optionDisabled:"text-gray-300 cursor-not-allowed",optionSelectedPointed:"text-white bg-original-teal-300 opacity-90",optionSelectedDisabled:"text-green-100 bg-original-teal-300 bg-opacity-50 cursor-not-allowed"};return C(()=>{T(),P()}),(e,r)=>(i(),c("div",null,[o("form",{onSubmit:U(x,["prevent"])},[(i(!0),c(M,null,O(s.value,(n,t)=>(i(),c("div",{class:"my-2 w-full",key:t},[t!==0?(i(),c("h3",E,"Riwayat Pengobatan "+q(t+1),1)):(i(),c("h3",z,"Riwayat Pengobatan")),o("div",Q,[o("div",A,[a(f,{for:"riwayatPengobatan",value:"Riwayat Pengobatan"}),o("div",G,[a(u(m),{modelValue:s.value[t].code,"onUpdate:modelValue":l=>s.value[t].code=l,mode:"single",placeholder:"Obat","filter-results":!1,object:!0,"min-chars":1,"resolve-on-load":!1,delay:1e3,searchable:!0,options:k,label:"name",valueProp:"kfa_code","track-by":"kfa_code",class:"mt-1",classes:d,required:""},null,8,["modelValue","onUpdate:modelValue"])]),a(p,{class:"mt-1"})]),o("div",H,[a(f,{for:"status",value:"Status"}),o("div",I,[a(u(m),{modelValue:s.value[t].status,"onUpdate:modelValue":l=>s.value[t].status=l,mode:"single",placeholder:"Status",object:!0,options:g.value,label:"display",valueProp:"code","track-by":"code",class:"mt-1",classes:d,required:""},null,8,["modelValue","onUpdate:modelValue","options"])]),a(p,{class:"mt-1"})])]),o("div",J,[o("div",K,[a(f,{for:"form",value:"Bentuk Obat"}),o("div",W,[a(u(m),{modelValue:s.value[t].form,"onUpdate:modelValue":l=>s.value[t].form=l,mode:"single",placeholder:"Bentuk","filter-results":!1,object:!0,"min-chars":1,"resolve-on-load":!1,delay:1e3,searchable:!0,options:V,label:"display",valueProp:"code","track-by":"code",class:"mt-1",classes:d,required:""},null,8,["modelValue","onUpdate:modelValue"])]),a(p,{class:"mt-1"})]),o("div",X,[a(f,{for:"medication_type",value:"Tipe Obat"}),o("div",Y,[a(u(m),{modelValue:s.value[t].medType,"onUpdate:modelValue":l=>s.value[t].medType=l,mode:"single",placeholder:"Tipe",object:!0,options:y.value,label:"display",valueProp:"code","track-by":"code",class:"mt-1",classes:d,required:""},null,8,["modelValue","onUpdate:modelValue","options"]),t!==0?(i(),B(R,{key:0,onClick:l=>w(t)},null,8,["onClick"])):L("",!0)]),a(p,{class:"mt-1"})])])]))),128)),o("div",Z,[a($,{type:"button",onClick:v,class:"teal-button-text"},{default:_(()=>[h("+ Tambah Riwayat Penyakit ")]),_:1}),o("div",ee,[a(F,{type:"submit",class:"teal-button text-original-white-0"},{default:_(()=>[h("Submit")]),_:1})])])],40,N)]))}};export{de as default};
