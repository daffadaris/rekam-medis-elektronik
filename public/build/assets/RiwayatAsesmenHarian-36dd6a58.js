import{r as u,o,b as a,a as t,d as n,t as l,f as h,w as g,g as T,F as $,aT as K,e as c,bE as x}from"./app-f0d7f9c0.js";import{_ as D}from"./TextInput-beb043c0.js";import{_ as N}from"./MainButtonSmall-93327a9a.js";import{_ as A}from"./SecondaryButtonSmall-8f007cfe.js";import{_ as b}from"./InputError-5b64019f.js";import{_ as w}from"./InputLabel-1f97d873.js";const B=["onSubmit"],E={class:"my-2 w-full"},F=t("h3",{class:"font-semibold text-secondhand-orange-300 mt-2"},"Ubah Kondisi Harian",-1),L={class:"flex"},j={class:"w-full md:w-7/12 mr-2"},H={class:"flex mimn-h-min"},M={key:0},R={class:"flex mt-3"},U={class:"w-full"},q={class:"flex"},G={class:"flex justify-between"},I={class:"mt-2 mr-3"},O={key:0,class:"text-sm text-original-teal-300"},Z={key:1,class:"text-sm text-thirdouter-red-300"},z={class:"relative overflow-x-auto mb-5 mt-5"},J={class:"w-full text-sm text-center rtl:text-right text-neutral-grey-200"},P=t("thead",{class:"text-sm text-neutral-black-300 bg-original-white-0 border-b"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 w-8/12"}," Kondisi "),t("th",{scope:"col",class:"px-6 py-3 w-4/12"}," Status ")])],-1),Q=["onClick"],W={scope:"row",class:"px-6 py-4 font-normal whitespace-nowrap hover:underline w-8/12"},X=t("br",null,null,-1),Y={class:"px-6 py-4 w-4/12"},tt={key:1,class:"bg-original-white-0 hover:bg-thirdinner-lightteal-300 border-b"},et={scope:"row",class:"px-6 py-4 font-normal whitespace-nowrap w-8/12"},st=t("br",null,null,-1),ot={class:"px-6 py-4 w-4/12"},ut={__name:"RiwayatAsesmenHarian",props:{encounter_satusehat_id:{type:String}},setup(y){const k=y,r=u({note:""}),e=u(null),_=u(null),v=async()=>{const{data:i}=await x.get(route("kunjungan.condition",{encounter_satusehat_id:k.encounter_satusehat_id}));_.value=i["asesmen-harian"]},S=i=>{e.value=_.value[i],r.value.note=e.value.note[0].text},V=()=>{v()},m=u(!1),p=u(!1),C=()=>{const i=new Date().toISOString().replace("Z","+00:00").replace(/\.\d{3}/,"");e.value.clinicalStatus.coding[0].code="resolved",e.value.clinicalStatus.coding[0].display="Resolved",e.value.abatementDateTime=i,e.value.note[0].text=r.value.note,x.put(route("integration.update",{res_type:"Condition",satusehat_id:e.value.id}),e.value).then(d=>{m.value=!0,setTimeout(()=>{m.value=!1},3e3),v(),e.value=null,r.value.note=""}).catch(d=>{console.error("Error creating user:",d),p.value=!0,setTimeout(()=>{p.value=!1},3e3)})};return(i,d)=>(o(),a("div",null,[t("form",{onSubmit:T(C,["prevent"])},[t("div",E,[F,t("div",L,[t("div",j,[n(w,{for:"code",value:"Kondisi"}),t("div",H,[e.value!==null?(o(),a("p",M,l(e.value.code.coding[0].display)+", "+l(e.value.note[0].text),1)):h("",!0)]),n(b,{class:"mt-1"})])]),t("div",R,[t("div",U,[n(w,{for:"note",value:"Keterangan"}),t("div",q,[n(D,{modelValue:r.value.note,"onUpdate:modelValue":d[0]||(d[0]=s=>r.value.note=s),id:"note",type:"text",class:"text-sm mt-1 block w-full",placeholder:"Keterangan",required:""},null,8,["modelValue"])]),n(b,{class:"mt-1"})])])]),t("div",G,[n(A,{type:"button",onClick:V,class:"teal-button-text"},{default:g(()=>[c("Muat data ")]),_:1}),t("div",I,[n(N,{type:"submit",class:"teal-button text-original-white-0"},{default:g(()=>[c("Submit")]),_:1})])]),m.value?(o(),a("p",O,"Sukses!")):h("",!0),p.value?(o(),a("p",Z,"Gagal!")):h("",!0)],40,B),t("div",z,[t("table",J,[P,(o(!0),a($,null,K(_.value,(s,f)=>(o(),a("tbody",{key:f},[s.clinicalStatus.coding[0].code!=="resolved"?(o(),a("tr",{key:0,class:"bg-original-white-0 hover:bg-thirdinner-lightteal-300 border-b cursor-pointer",onClick:at=>S(f)},[t("th",W,[t("p",null,[c(l(s.code.coding[0].display),1),X,c(" "+l(s.note[0].text),1)])]),t("td",Y,[t("p",null,l(s.clinicalStatus.coding[0].display),1)])],8,Q)):(o(),a("tr",tt,[t("th",et,[t("p",null,[c(l(s.code.coding[0].display),1),st,c(" "+l(s.note[0].text),1)])]),t("td",ot,[t("p",null,l(s.clinicalStatus.coding[0].display),1)])]))]))),128))])])]))}};export{ut as default};
