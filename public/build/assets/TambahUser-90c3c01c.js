import{T as $,r as u,aD as A,o as l,c as E,w as h,bE as b,a as e,d as t,u as r,i as q,e as B,h as m,v as w,b as i,bp as z,aT as M,t as d,F as P,f as g}from"./app-f0d7f9c0.js";import{_ as I}from"./AuthenticatedLayoutBack-0850d741.js";import{_ as S}from"./MainButton-87431bfc.js";import{_ as F}from"./MainButtonSmall-93327a9a.js";import{_ as x}from"./TextInput-beb043c0.js";import{_ as f}from"./InputError-5b64019f.js";import{_ as v}from"./InputLabel-1f97d873.js";import{_ as G}from"./Modal-11ba5be7.js";import"./AuthenticatedLayout-fe97c644.js";import"./AppHead-4fb5dcc8.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./BackButton-dbfd014f.js";const H=e("title",null,"Tambah User - ",-1),Z={class:"bg-original-white-0 overflow-hidden shadow rounded-xl md:rounded-2xl mb-8 p-6 md:py-8 md:px-10"},J=e("h1",{class:"text-2xl font-bold text-neutral-black-300"},"Tambah User",-1),O=e("p",{class:"mb-3 text-base font-normal text-neutral-grey-100"},"Halaman untuk menambahkan user.",-1),Q={class:"p-6"},R=e("h2",{class:"text-lg font-medium text-gray-900"}," User telah berhasil dibuat. Kembali ke halaman User Management. ",-1),W={class:"mt-6 flex justify-end"},X={class:"mt-4"},Y={class:"mt-4"},ee={class:"relative p-0 rounded-xl border-none text-neutral-black-300"},te={class:"absolute inset-y-0 right-0 mx-3 w-5 h-5 my-auto"},se={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},oe=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"},null,-1),ae=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),le=[oe,ae],re={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},ie=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"},null,-1),ne=[ie],ce={class:"mt-4"},de={class:"relative p-0 rounded-xl border-none text-neutral-black-300"},ue={class:"absolute inset-y-0 right-0 mx-3 w-5 h-5 my-auto bg-original-white-0"},me={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},pe=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"},null,-1),_e=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),he=[pe,_e],we={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},fe=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"},null,-1),ve=[fe],ge={class:"mt-4"},xe=["value"],ke=e("span",{class:"ms-2 text-sm text-neutral-black-300"},"Practitioner",-1),be={class:"mt-4"},ye={class:"w-full flex"},Ve=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})],-1),Ce={class:"text-center mt-5"},Me={key:0,class:"flex mt-5"},Pe={class:"relative w-full pl-14 overflow-x-auto mb-5"},Ue={class:"w-full mx-auto text-base text-left text-neutral-grey-200"},je={class:"w-full"},Le={class:"bg-original-white-0"},Be=e("th",{scope:"row",class:"px-6 py-4 font-semibold whitespace-nowrap w-1/3"}," Nama ",-1),De={key:0,class:"px-6 py-4 w-2/3"},Ne={class:"bg-original-white-0"},Te=e("th",{scope:"row",class:"px-6 py-4 font-semibold whitespace-nowrap w-1/3"}," Tanggal Lahir ",-1),Ke={class:"px-6 py-4 w-full"},$e={class:"bg-original-white-0"},Ae=e("th",{scope:"row",class:"px-6 py-4 font-semibold whitespace-nowrap w-1/3"}," Gender ",-1),Ee={class:"px-6 py-4 w-full"},qe={class:"bg-original-white-0"},ze=e("th",{scope:"row",class:"px-6 py-4 font-semibold whitespace-nowrap w-1/3"}," Identifier ",-1),Ie={class:"px-6 py-4 w-2/3"},Se={class:"bg-original-white-0"},Fe=e("th",{scope:"row",class:"px-6 py-4 font-semibold whitespace-nowrap w-1/3"}," Alamat ",-1),Ge={key:0,class:"px-6 py-4 w-2/3"},He={class:"bg-original-white-0"},Ze=e("th",{scope:"row",class:"px-6 py-4 font-semibold whitespace-nowrap w-1/3"}," Kota ",-1),Je={key:0,class:"px-6 py-4 w-2/3"},Oe={class:"bg-original-white-0"},Qe=e("th",{scope:"row",class:"px-6 py-4 font-semibold whitespace-nowrap w-1/3"}," Kontak ",-1),Re={key:0,class:"px-6 py-4 w-2/3"},We={class:"flex flex-col items-center justify-end mt-10"},ut={__name:"TambahUser",setup(Xe){const o=$({name:"",email:"",password:"",password_confirmation:"",practitioner_id:"",role:""}),U=u(!1),y=u(!1),V=u(!1),a=u(null),C=u(""),j=u(null),D=async()=>{const{data:c}=await b.get(route("users.roles"));j.value=c},N=async()=>{const c=await b.get(route("satusehat.search.practitioner",{identifier:"https://fhir.kemkes.go.id/id/nik|"+C.value}));c.data.total>=1?(a.value=c.data.entry[0],y.value=!0,V.value=!0):c.data.total===0&&(a.value=null,y.value=!1,V.value=!1)},T=async()=>{_.value===!1||a.value===null?delete o.practitioner_id:_.value===!0&&a.value!==null&&(o.practitioner_id=a.value.resource.id,await b.get(route("integration.show",{res_type:"Practitioner",satusehat_id:o.practitioner_id}))),b.post(route("users.store"),o).then(c=>{U.value=!0}).catch(c=>{console.error("Error creating user:",c)})},p=u(!1),k=u("password"),L=()=>{p.value=!p.value,k.value=k.value==="password"?"text":"password"},_=u(!1),K=()=>{_.value=!_.value};return A(()=>{D()}),(c,n)=>(l(),E(I,null,{apphead:h(()=>[H]),default:h(()=>[e("div",Z,[J,O,t(G,{show:U.value},{default:h(()=>[e("div",Q,[R,e("div",W,[t(r(q),{href:c.route("usermanagement"),class:"mx-auto mb-3 w-fit block justify-center px-4 py-2 border border-transparent rounded-lg font-semibold text-sm teal-button text-original-white-0 transition ease-in-out duration-150 hover:shadow-lg"},{default:h(()=>[B(" Kembali ")]),_:1},8,["href"])])])]),_:1},8,["show"]),e("form",null,[e("div",null,[t(v,{for:"name",value:"Nama"}),t(x,{id:"name",type:"text",class:"mt-1 block w-full",required:"",modelValue:r(o).name,"onUpdate:modelValue":n[0]||(n[0]=s=>r(o).name=s),placeholder:"Masukkan Nama"},null,8,["modelValue"]),t(f,{class:"mt-1",message:r(o).errors.name},null,8,["message"])]),e("div",X,[t(v,{for:"email",value:"Email"}),t(x,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:r(o).email,"onUpdate:modelValue":n[1]||(n[1]=s=>r(o).email=s),required:"",autocomplete:"username",placeholder:"Masukkan Email"},null,8,["modelValue"]),t(f,{class:"mt-2",message:r(o).errors.email},null,8,["message"])]),e("div",Y,[t(v,{for:"password",value:"Password"}),e("div",ee,[t(x,{id:"password",type:k.value,class:"mt-1 block w-full",modelValue:r(o).password,"onUpdate:modelValue":n[2]||(n[2]=s=>r(o).password=s),required:"",placeholder:"Masukkan Password"},null,8,["type","modelValue"]),e("div",te,[e("div",{class:"text-neutral-grey-100 hover:text-original-teal-300 active:text-original-teal-400 cursor-pointer",onClick:L},[m((l(),i("svg",se,le,512)),[[w,!p.value]]),m((l(),i("svg",re,ne,512)),[[w,p.value]])])])]),t(f,{class:"mt-1",message:r(o).errors.password},null,8,["message"])]),e("div",ce,[t(v,{for:"password_confirmation",value:"Konfirmasi Password"}),e("div",de,[t(x,{id:"password_confirmation",type:k.value,class:"mt-1 block w-full",modelValue:r(o).password_confirmation,"onUpdate:modelValue":n[3]||(n[3]=s=>r(o).password_confirmation=s),required:"",placeholder:"Masukkan Konfirmasi Password"},null,8,["type","modelValue"]),e("div",ue,[e("div",{class:"text-neutral-grey-100 hover:text-original-teal-300 active:text-original-teal-400 cursor-pointer",onClick:L},[m((l(),i("svg",me,he,512)),[[w,!p.value]]),m((l(),i("svg",we,ve,512)),[[w,p.value]])])])]),t(f,{class:"mt-1",message:r(o).errors.password_confirmation},null,8,["message"])]),e("div",ge,[t(v,{for:"role",value:"Peran"}),m(e("select",{id:"role","onUpdate:modelValue":n[4]||(n[4]=s=>r(o).role=s),class:"block w-full outline-none border-2 border-neutral-grey-0 ring-0 focus:border-original-teal-300 focus:ring-original-teal-300 rounded-xl shadow-sm px-2.5 h-fit"},[(l(!0),i(P,null,M(j.value,s=>(l(),i("option",{value:s},d(s),9,xe))),256))],512),[[z,r(o).role]]),t(f,{class:"mt-1"})])]),e("form",null,[e("div",{class:"block mt-4"},[e("label",{class:"flex items-center"},[e("input",{id:"practitionercheck",type:"checkbox",onClick:K,class:"w-4 h-4 text-original-teal-300 bg-original-white-0 border-neutral-grey-100 rounded focus:ring-original-teal-300"}),ke])]),m(e("div",be,[t(v,{for:"nik",value:"Cari Practitioner ID"}),e("div",ye,[t(x,{id:"nik",type:"text",class:"mt-1 block w-full mr-3",modelValue:C.value,"onUpdate:modelValue":n[5]||(n[5]=s=>C.value=s),autofocus:"",placeholder:"Masukkan NIK"},null,8,["modelValue"]),t(F,{onClick:N,class:"teal-button text-original-white-0",type:"button"},{default:h(()=>[Ve]),_:1})]),t(f,{class:"mt-1"})],512),[[w,_.value]])]),m(e("p",Ce," Data tidak ditemukan.",512),[[w,!V.value&&_.value]]),y.value?(l(),i("div",Me,[e("div",Pe,[e("table",Ue,[e("tbody",je,[e("tr",Le,[Be,a.value.resource.name?(l(),i("td",De,d(a.value.resource.name[0].text),1)):g("",!0)]),e("tr",Ne,[Te,e("td",Ke,d(a.value.resource.birthDate),1)]),e("tr",$e,[Ae,e("td",Ee,d(a.value.resource.gender),1)]),e("tr",qe,[ze,e("td",Ie,[(l(!0),i(P,null,M(a.value.resource.identifier,s=>(l(),i("p",null,d(s.system)+": "+d(s.value),1))),256))])]),e("tr",Se,[Fe,a.value.resource.address?(l(),i("td",Ge,d(a.value.resource.address[0].line[0]),1)):g("",!0)]),e("tr",He,[Ze,a.value.resource.address?(l(),i("td",Je,d(a.value.resource.address[0].city),1)):g("",!0)]),e("tr",Oe,[Qe,a.value.resource.telecom?(l(),i("td",Re,[(l(!0),i(P,null,M(a.value.resource.telecom,s=>(l(),i("p",null,d(s.system)+": "+d(s.value),1))),256))])):g("",!0)])])])])])):g("",!0),e("div",We,[t(S,{class:"w-full mb-3 mx-auto max-w-[284px] block teal-button text-original-white-0",onClick:T},{default:h(()=>[B(" Tambah ")]),_:1})])])]),_:1}))}};export{ut as default};
