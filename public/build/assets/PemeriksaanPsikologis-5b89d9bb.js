import{r as n,o as u,b as m,a as e,d as o,w as p,f as d,g as v,e as x,bE as y}from"./app-bf8fb3e4.js";import{_ as h}from"./MainButtonSmall-62f6226f.js";import{_ as b}from"./TextInput-181d0a07.js";import{_ as g}from"./InputError-892d609d.js";import{_ as k}from"./InputLabel-9cc85df5.js";const S=["onSubmit"],w={class:"my-2 w-full"},V=e("h3",{class:"font-semibold text-secondhand-orange-300 mt-2"},"Pemeriksaan Psikologis",-1),j={class:"flex"},T={class:"w-full md:w-12/12"},O={class:"flex"},P={class:"flex justify-end"},q={class:"mt-2 mr-3"},N={key:0,class:"text-sm text-original-teal-300"},$={key:1,class:"text-sm text-thirdouter-red-300"},M={__name:"PemeriksaanPsikologis",props:{subject_reference:{type:Object,required:!1},practitioner_reference:{type:Object,required:!1},encounter_reference:{type:Object,required:!0}},setup(_){const r=_,a=n({text:""}),i=n(!1),c=n(!1),f=()=>{const l=new Date().toISOString().replace("Z","+00:00").replace(/\.\d{3}/,""),t={resourceType:"Observation",status:"final",category:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/observation-category",code:"survey",display:"Survey"}]}],code:{coding:[{system:"http://loinc.org",code:"8693-4",display:"Mental Status"}]},subject:r.subject_reference,performer:[r.practitioner_reference],encounter:r.encounter_reference,effectiveDateTime:l,issued:l,valueString:a.value.text};y.post(route("integration.store",{res_type:t.resourceType}),t).then(s=>{i.value=!0,setTimeout(()=>{i.value=!1},3e3)}).catch(s=>{console.error("Error creating user:",s),c.value=!0,setTimeout(()=>{c.value=!1},3e3)})};return(l,t)=>(u(),m("div",null,[e("form",{onSubmit:v(f,["prevent"])},[e("div",w,[V,e("div",j,[e("div",T,[o(k,{for:"text",value:"Hasil pemeriksaan"}),e("div",O,[o(b,{modelValue:a.value.text,"onUpdate:modelValue":t[0]||(t[0]=s=>a.value.text=s),id:"text",type:"text",class:"text-sm mt-1 block w-full",placeholder:"Keterangan",required:""},null,8,["modelValue"])]),o(g,{class:"mt-1"})])])]),e("div",P,[e("div",q,[o(h,{type:"submit",class:"teal-button text-original-white-0"},{default:p(()=>[x("Submit")]),_:1})])]),i.value?(u(),m("p",N,"Sukses!")):d("",!0),c.value?(u(),m("p",$,"Gagal!")):d("",!0)],40,S)]))}};export{M as default};
